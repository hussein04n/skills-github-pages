<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>عداد الامتحانات</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: #f0f0f0;
      overflow: hidden;
    }

    .menu-icon {
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 1000;
      cursor: pointer;
    }

    .menu-icon div {
      width: 30px;
      height: 4px;
      background-color: #333;
      margin: 6px 0;
    }

    .menu {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      background: white;
      width: 200px;
      height: 100vh;
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
      padding-top: 60px;
      z-index: 999;
    }

    .menu a {
      display: block;
      padding: 15px;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #eee;
    }

    .menu a:hover {
      background: #f9f9f9;
    }

    .page {
      display: none;
      height: 100vh;
      position: relative;
      padding-top: 60px;
      text-align: center;
    }

    .active {
      display: block;
    }

    .countdown-circle {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      border: 10px solid purple;
      margin: auto;
      position: relative;
      overflow: hidden;
    }

    .fill {
      background-color: purple;
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 0%;
      transition: height 1s linear;
    }

    .timer {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: purple;
      font-size: 20px;
      font-weight: bold;
    }

    .loader-screen {
      position: fixed;
      width: 100vw;
      height: 100vh;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      flex-direction: column;
    }

    .logo-loader {
      width: 150px;
      height: 150px;
      border: 10px solid purple;
      border-radius: 50%;
      overflow: hidden;
      position: relative;
    }

    .logo-fill {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 0%;
      background: purple;
      transition: height 5s linear;
      z-index: 1;
    }

    .logo-img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      position: relative;
      z-index: 2;
    }

    .microbe {
      position: absolute;
      width: 20px;
      height: 10px;
      background: rgba(102, 0, 102, 0.3);
      border-radius: 50%;
      animation: float 20s infinite linear;
    }

    @keyframes float {
      0% {
        transform: translateY(0) translateX(0);
      }
      50% {
        transform: translateY(-20px) translateX(10px);
      }
      100% {
        transform: translateY(0) translateX(0);
      }
    }
  </style>
</head>
<body>

<div class="menu-icon" onclick="toggleMenu()">
  <div></div><div></div><div></div>
</div>

<div class="menu" id="menu">
  <a href="#" onclick="switchPage('bacteria')">عداد البكتريا</a>
  <a href="#" onclick="switchPage('parasite')">عداد الطفيليات</a>
</div>

<!-- Loader -->
<div class="loader-screen" id="loader">
  <div class="logo-loader">
    <div class="logo-fill" id="logo-fill"></div>
    <img src="bacteria.png" class="logo-img" id="loader-logo" />
  </div>
</div>

<!-- صفحة البكتريا -->
<div class="page active" id="bacteria-page">
  <h2>عداد امتحان البكتريا</h2>
  <div class="countdown-circle">
    <div class="fill" id="bacteria-fill"></div>
    <div class="timer" id="bacteria-timer"></div>
  </div>
</div>

<!-- صفحة الطفيليات -->
<div class="page" id="parasite-page">
  <h2>عداد امتحان الطفيليات</h2>
  <div class="countdown-circle">
    <div class="fill" id="parasite-fill"></div>
    <div class="timer" id="parasite-timer"></div>
  </div>
</div>

<script>
  const loader = document.getElementById('loader');
  const logoFill = document.getElementById('logo-fill');
  const loaderLogo = document.getElementById('loader-logo');

  function toggleMenu() {
    const menu = document.getElementById('menu');
    menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
  }

  function switchPage(page) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(`${page}-page`).classList.add('active');

    // Change logo and restart loader
    loader.style.display = 'flex';
    logoFill.style.height = '0%';
    loaderLogo.src = page === 'bacteria' ? 'bacteria.png' : 'parasites.png';
    setTimeout(() => {
      logoFill.style.height = '100%';
    }, 100);
    setTimeout(() => {
      loader.style.display = 'none';
    }, 5000);
  }

  function countdown(targetDate, timerId, fillId) {
    const target = new Date(targetDate).getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const distance = target - now;

      if (distance <= 0) {
        document.getElementById(timerId).innerText = "انتهى الوقت!";
        document.getElementById(fillId).style.height = '100%';
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById(timerId).innerText =
        `${days} يوم ${hours} ساعة ${minutes} دقيقة ${seconds} ثانية`;

      const percent = 100 - ((distance / (1000 * 60 * 60 * 24 * 30)) * 100);
      document.getElementById(fillId).style.height = Math.min(percent, 100) + '%';
    }, 1000);
  }

  // Start both countdowns
  countdown("2025-05-04T09:00:00", "bacteria-timer", "bacteria-fill");
  countdown("2025-05-08T09:00:00", "parasite-timer", "parasite-fill");

  // Initial loader
  window.onload = () => {
    loader.style.display = 'flex';
    setTimeout(() => {
      logoFill.style.height = '100%';
    }, 100);
    setTimeout(() => {
      loader.style.display = 'none';
    }, 5000);
  };

  // Add animated microbes
  const bacteriaPage = document.getElementById('bacteria-page');
  const parasitePage = document.getElementById('parasite-page');
  for (let i = 0; i < 7; i++) {
    const microbe = document.createElement('div');
    microbe.classList.add('microbe');
    microbe.style.left = Math.random() * 100 + 'vw';
    microbe.style.top = Math.random() * 100 + 'vh';
    microbe.style.animationDuration = (10 + Math.random() * 10) + 's';
    bacteriaPage.appendChild(microbe.cloneNode(true));
    parasitePage.appendChild(microbe.cloneNode(true));
  }
</script>

</body>
</html>
